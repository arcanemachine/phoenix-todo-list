#!/bin/sh

# add PRE_COMMIT environment variables so our scripts can detect when they are
# being run as part of a pre-commit workflow
export PRE_COMMIT=1

# change to project root directory
cd $(dirname "$0")/../

# e2e tests
echo "Running E2E tests with Playwright..."
./scripts/test-e2e --max-failures 1 --quiet
if [ "$?" != 0 ]; then
  echo "One or more E2E tests failed. Aborting the commit..."
  exit 1
else
  echo "E2E tests completed successfully."
fi
